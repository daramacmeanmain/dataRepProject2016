<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
    <h1>Message Board</h1>
      <form>
		  <div class="form-group">
              <input  action="/dataBase" method="POST" type="text"class="form-control" name="userInput" id="userInput"><br />
              <input  action="/dataBase" method="POST" type="text"class="form-control" name="messageInput" id="messageInput"><br />
		  </div>
		  <button type="submit" id="submit" onlick="newUserRow()" onlick="newMessageRow()">Submit</button>
          <button type="reset" id="reset">Reset</button>
      </form>
         <!--
      <form action="/dataBase" method="POST">
		  <div class="form-group">
			<label for="serveroutput">Server result</label>
			<textarea class="form-control" id="serveroutput" rows="10" placeholder="Please submit an input above."  readonly \n></textarea>
          </div>
      </form>
         -->
        
        <ul id = serveroutput>
            {% for user in dataOutput %}
            <li id = userOutput>{{ user[0] }}</li>
            {% endfor %}
        </ul>
        
    </div>

    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js" integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js" integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK" crossorigin="anonymous"></script>
      <script>
          /*$("#submit").click(function(e) {
			e.preventDefault();
			
			messageData = {messageInput: $("#messageInput").val()}
                $.post("/messageData", messageData, function(resbody){
			});
              
            userData = {userInput: $("#userInput").val()}
                $.post("/userData", userData, function(resbody){
			});
              
            $.post("/userDataBase", function( userData ) {
                $( "#userOutput" ).html( userData );
            });
              
            $.post("/messageDataBase", function( messageData ) {
                $( "#messageOutput" ).html( messageData );
            });

            
		});*/
          
          function newUserRow() {
            var table = document.getElementById("userOutput");
                var row = table.insertRow(0);
                var user = row.insertCell(0);
          }
          
          function newMessageRow() {
            var table = document.getElementById("messageOutput");
                var row = table.insertRow(0);
                var message = row.insertCell(0);
          }
          
          $("#submit").click(function(e) {
			e.preventDefault();
			
			messageData = {messageInput: $("#messageInput").val()}
                $.post("/messageData", messageData, function(resbody){
			});
              
            userData = {userInput: $("#userInput").val()}
                $.post("/userData", userData, function(resbody){
			});
              
            $.post("/dataBase", function( userData ) {
                $( "#serveroutput" ).html( userData );
            });
              
            $.post("/dataBase", function( messageData ) {
                $( "#serveroutput" ).html( messageData );
            });
            
		});
      </script>
  </body>
</html>